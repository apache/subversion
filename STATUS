     * * * * * * * * * * * * * * * * * * * * * * * * * * * *
     *                                                     *
     *  THIS RELEASE STREAM IS OPEN TO BUG FIXES.          *
     *                                                     *
     * * * * * * * * * * * * * * * * * * * * * * * * * * * *

This file tracks the status of releases in the 1.5.x line.

See "Stabilizing and maintaining releases" in trunk/www/hacking.html for
details on how release lines and voting work, what kinds of bugs can
delay a release, etc.


Candidate changes for 1.5.5:
============================

 * r30756
   Allow 'svn merge' to merge diffs which add 'svn:eol-style' properties
   to files that used to have inconsistent newlines.
   Justification:
     Prevents you from doing merges in some situations involving
     svn:eol-style; the fix appears to allow them. Fix has been available
     for a long time and accepted by users and just needs review.
     See <http://subversion.tigris.org/ds/viewMessage.do?dsForumId=462&dsMessageId=985219>.
   Notes:
     Specifically, if the diff being applied adds an 'svn:eol-style'
     property to a file, then the left file gets converted to the new EOL
     style before running diff3.  If that left file (ie, an old repository
     file) had inconsistent newlines, then svn errored out with a useless
     "svn: File '/tmp/tmp' has inconsistent newlines", and there was
     basically no recourse.  So let it repair newlines.
   Votes:

 * r34091, r34094, r34244, r34256, r34306
   Various svn merge --reintegrate improvements.
   Branch:
     ^/branches/1.5.x-reintegrate-improvements
   Justification:
     Prior to these changes reintegrate would not work if the merge source
     had any subtree mergeinfo.  Since subtree mergeinfo is quite common,
     this meant reintegrate was largely unuseable.  With these changes
     reintegrate will work as long as the source's subtree mergeinfo and
     implicit mergeinfo reflect the fact that the reintegrate target was
     previously merged uniformly to the source for some contiguous revision
     range starting at the revision the source was branched from the target.
     These changes also improve the notoriously vague error message which
     occurred when reintegrate was thwarted by subtree mergeinfo.
   Votes:
     +1: pburba, jerenkrantz
     +0: stsp (With my limited understanding of merge tracking it takes
               ages for me to review this properly.
               The change is fairly large. I've read all log messages and
               most of the diffs, including the history of the branch
               merged to trunk in r34091.
               I understand what the change is supposed to be doing,
               and from that point of view I can say that it actually
               does improve things a lot.)

 * ^/branches/1.5.x-build-fixes
   Fix the build, which resulted from the merge in r34393.  For full analysis,
   see:  http://svn.haxx.se/dev/archive-2008-12/0445.shtml
   Justification:
     The build shouldn't be broken.  Ever.
   Notes:
     The merge in r34393 was dependent on additional APIs.  The fixes branch
     includes code which will (probably) be merged as part of the
     reintegrate-improvements branch.  If that branch gets merged, this item
     can disappear.
     This is currently a test failure on the branch, but I think that it's
     also on 1.5.x, and a result of the r34393 merge.
     See email thread <http://subversion.tigris.org/ds/viewMessage.do?dsForumId=462&dsMessageId=985193>.
   Branch:
     ^/branches/1.5.x-build-fixes@34764
   Votes:
     +1: hwright (@r?????), pburba (@r?????), jerenkrantz (@r?????)
     +0: julianfoad (@r34764)

Approved changes:
=================

 * r34547, r34732
   Fix issue #3323 'Mergeinfo deleted by a merge should disappear'
   Notes:
     Will conflict if r34432 is not applied first.  Note that r34547 does
     not depend on r34432 to function properly, so can be backported by
     itself if necessary.  r34732 is an "obvious fix" indentation tweak.
   Justification:
     A merge that should remove subtree mergeinfo doesn't actually do so.
     The subtree mergeinfo is initially deleted, but then is replaced by
     mergeinfo describing the merge itself.  This isn't a very common
     situation, see http://subversion.tigris.org/issues/show_bug.cgi?id=3323,
     but anything that reduces the amount of explicit subtree mergeinfo
     is a good thing.
   Votes:
     +1: pburba, kameshj, cmpilato

 * r34082, r34096, r34545
   Fix issue #3275 by making WebDAV proxy slave servers pass through
   any GET or PROPFIND requests aimed at working resource URLs, even
   though those requests are read-only.  Why?  It does no good for the
   slave server to try to answer a read request aimed at an
   uncommitted transaction when said transaction's data lives solely
   on the master server.
   Votes:
     +1: cmpilato, hwright, jerenkrantz
     +0: rhuijben (Looks OK, does no harm. No time to setup test environment)

 * r34560, r34562
   Fix a bug which occurs when a merge adds a subtree as an immediate child
   of the merge target when the merge target has non-inheritable mergeinfo
   and is also the current working directory.  If all these planets align
   properly then invalid mergeinfo is created on the added subtree.
   Notes:
     The SVN_ERR_ASSERT() in r34562 needs to be changed to an assert()
     as the former doesn't exist on 1.5.x.
   Justification:
     Rare bug, but it results in incorrect mergeinfo.
   Votes:
     +1: pburba, kameshj, jerenkrantz

