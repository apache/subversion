     * * * * * * * * * * * * * * * * * * * * * * * * * * * *
     *                                                     *
     *  THIS RELEASE STREAM IS CLOSED TO FURTHER CHANGES.  *
     *                                                     *
     * * * * * * * * * * * * * * * * * * * * * * * * * * * *

This file tracks the status of releases in the 1.5.x line.

See "Stabilizing and maintaining releases" in trunk/www/hacking.html for
details on how release lines and voting work, what kinds of bugs can
delay a release, etc.


Candidate changes for 1.5.10:
=============================

 * r876180
   Resolves issue #3374, "svn cp --parents path URL encoding issues"
   For
     svn cp --parent ^/fö ^/dö/fö
   The --parents code checked and might creat^/d%C3%B6, while the file was
   copied to ^/dö as expected.
   Justification:
     Without this patch --parents is broken for utf8 characters in repos
     to repos copy and move operations.
   Votes:
     +1: rhuijben
     -0: gstein (encoding issues are tricky; I'd rather tell people to
                 upgrade to 1.6.0, rather than 1.5.6)

 * r876185
   On Windows don't retry deleting a file 100 times when this file is really
   not a file but just a directory.
   Justification:
     Makes removing unversioned directories much faster.
     (You can see the delay with: svn rm --force <unversioned-empty-directory>)
   Votes:
     +1: rhuijben
     -0: gstein (edge case performance fixes shouldn't be backported; if
                 the user wants the fix, they can upgrade to 1.6.0 rather
                 than 1.5.6)

 * r876601
   Yet another merge performance improvement: Potentially reduce server
   queries about subtree mergeinfo during reverse merges.
   Justification:
     Large numbers of subtrees with mergeinfo can significantly slow merge
     performance, this alleviates that somewhat in a common use case.
   Votes:
     +1: pburba

 * r877146, r877157
   Fix issue #3392 'Parsing error with reverse merges and non-inheritable
   mergeinfo'
   Justification:
     Can cause repeat merges to break in the presence of non-inheritable
     mergeinfo.
   Notes:
     r877146 is a test for the issue, r877157 is the fix.
   Branch:
     ^/subversion/branches/1.5.x-issue3392
     (This branch was removed from HEAD in r1181163.)
   Votes:
     +1: pburba, arfrever

 * r877211
   Make some sweeping pool lifetime fixes in the BDB backend.
   Justification:
     Bringing 'svn ls -v' over HTTP on a directory with 10000 files
     from 2Gb+ of RAM to under 400Mb is a very good thing.
   Notes
     The merge conflicts in a few places due to some minor cleanups
     performed post-1.5.x.
   Branch:
     http://svn.collab.net/repos/svn/branches/1.5.x-r37137
     (This branch was removed from HEAD in r1181163.)
   Votes:
     +1: cmpilato, arfrever

 * r877853
   Fix a potential segfault when doing noop file merges.
   Justification:
     Not common, but a segfault is a segfault.  See
     http://svn.haxx.se/dev/archive-2009-05/0363.shtml.
   Branch:
     http://svn.collab.net/repos/svn/branches/1.5.x-r37779.
     (This branch was removed from HEAD in r1181163.)
   Votes:
     +1: pburba

 * r878142
   Fix issue #3119, "File '...' already exists" when it obviously doesn't,
   during commit.
   Justification:
     This was introduced in 1.5.1 and propagated till now.
   Votes:
     +1: stylesen
     -1: pburba (This change uses a 1.6 API, svn_error_compose_create).

 * r878760-7
   Fix serious bugs in libsvn_ra_svn and svnsync.  (If svnsync errors
   while syncing from svnserve to mod_dav_svn, it commits a
   half-written transaction rather than aborting it.)
   Justification:  
     A potentially large audience of users may unknowingly be creating
     corrupt repository mirrors!
   Notes:
     Running 'svn merge -r876759:876761 ^/truenk' creates a spurious
     one-line conflict for some reason, perhaps due to linefeeds.
     Easy to clean up.
   Votes:
     +1: sussman

 * r879093
   Fix bug where svn_[rangelist|mergeinfo]_[merge|intersect|remove|diff]
   APIs can modify their *non*-output arguments.
   Justification:
     No reports of this causing any problems that I know of, which is
     probably due to the fact that users of an API like svn_mergeinfo_merge
     typically only care about the output arguments.  The new C tests added
     to mergeinfo-test.c clearly demonstrate the bug.
   Branch:
     ^/branches/1.5.x-r39109
     (This branch was removed from HEAD in r1181163.)
   Votes:
     +1: pburba, hwright

 * r902467
   Fix broken svn_ra_get_mergeinfo API promise in serf and neon
   implementations -- return a null mergeinfo catalog if there is
   no mergeinfo, as per svn_ra_get_mergeinfo's API
   Justification:
     Fixes an uninitialized variable that can result in a segfault.
   Branch:
     ^/branches/1.5.x-r902467
     (This branch was removed from HEAD in r1181163.)
   Votes:
     +1: pburba

  * r1028084, r1028125, r1041638
    Fix JVM recognition on OS X Snow Leopard (10.6).
    Justification:
      Buildings Subversion on OS X 10.6 can be impossible, or more difficult,
      without porting this.
    Notes:
      Apple has updated their JDK structure that results in its JDK not being
      found on Snow Leopard.  This can be worked around by using the --with-jdk
      configure option but it was never required before and the JDK structure
      isn't exactly intuitive enough to expect regular people to know how to
      find the right path to use.
    Votes:
      +1: jwhitlock
      -0: stsp (not a critical build or security fix -- maybe just
                document the workaround instead?)

 * r1058722
   Initialize report_info_t's prop_encoding member in
   libsvn_ra_serf/update.c:start_report() rather than using what was
   previously in shared memory.
   Justification:
     No known problems with this, but using an unitialized struct member
     is asking for problems.
   Votes:
     +1: pburba

 * r1071239, r1071307
   Locks without athn SEGV in mod_dav_svn
   Justification:
     I think it can only happen during commit to a server that doesn't require
     authn, but a server SEGV is bad.
   Votes:
    +1: philip, stsp

Approved changes:
=================

 * r876925, r876931
   'svnadmin upgrade'-ing pre-1.2 repositories fails for lack of
   'db/format' file.
   Justification:
     'svnadmin upgrade' was designed to allow for this situation, but clearly
     does not.
   Notes:
     Backport branch needed, the function in question has seen a lot of churn.
   Votes:
     +1: cmpilato, danielsh, rhuijben
     -0: hwright (until such time as a backport branch exists)
