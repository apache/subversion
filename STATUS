      * * * * * * * * * * * * * * * * * * * * * * * * * * * *
      *                                                     *
      *  THIS RELEASE STREAM IS OPEN TO BUG FIXES.          *
      *                                                     *
      * * * * * * * * * * * * * * * * * * * * * * * * * * * *

This file tracks the status of releases in the 1.7.x line.

See http://subversion.apache.org/docs/community-guide/releasing.html#release-stabilization
for details on how release lines and voting work, what kinds of bugs can
delay a release, etc.

Status of 1.7.0:

Candidate changes:
==================

 * r1146131 and followups
   Add svn_fs_verify() and implement rep-cache verification in FSFS using it.
   Branch:
     1.7.x-fs-verify
   Justification:
     Would be nice to extend verify already in 1.7.x.
   Notes:
     This does not include progress reporting; that has been postponed to 1.8.
   Conflicts:
     On fs_fs.c.  Resolve with 'theirs-conflict'.
   Votes:
     +1: danielsh, rhuijben
     +0: gstein (progress would be nice) (without r1161164, r1161180)
     -0: cmpilato (For a function with this name, the implementation is far
         too anemic. I'd prefer this be a private function in 1.7.x, leaving
         room for a future public API that really does full verification.)
         (without r1161164, r1161180)

 * r1147540, r1147541
   Remove unused variables in build system.
   Justification:
     Backporting of future changes will be easier.
   Votes:
     +1: arfrever
     -0: stsp (we can backport these when we need to)
     -0: gstein

 * r1154278, r1154379, r1154382
   Make 'svn ls' capable of listing Subversion 1.0-1.3 repositories using
   ra_serf.
   Justification:
     We promised not to break backwards compatibility and it is not nice
     that serf doesn't want to list the neon repository.
     (Check svn ls http://svn.webdav.org/repos/projects/neon/)
   Notes:
     r1154278 is a quick hack to detect old servers and to at least return
              some information.
     r1154379 is the real fix: fallback to a more compatible request.
     r1154382 makes sure the right result is used directly after falling
              back from svn_ra_serf__get_dir.
              (Most likely the problem is detected earlier than this function)
   Votes:
     +1: rhuijben, cmpilato

 * r1163243, r1163383
   Fix issue #3791 'svn mergeinfo shows natural history of added subtrees
   as eligible'.
   Justification:
     The 'svn mergeinfo [ -R | --depth [ files | immediates | infinity ] ]'
     subcommand gives incorrect answers in some use cases.
   Notes:
     r1163243 is a test for the issue, r1163383 is the fix.
   Votes:
     +1: pburba

 * r1164386
   Avoid an expensive database operation in 'svn info'.
   Justification:
     Improves performance of 'svn info' on a single unmodified node by 20-30%, by
     moving an in most cases unneeded database call in the error handling.
   Votes:
     +1: rhuijben, hwright
     +1: gstein (for 1.7.1)

 * r1164426, r1164614
   Fix STMT_SELECT_NODE_CHILDREN_WALKER_INFO for correctness and speed.
   Justification:
     Recursive info and propset don't scale well with large working copies
     and may possibly act on the wrong nodes.  Correctness discussion:
     http://colabti.org/irclogger/irclogger_log/svn-dev?date=2011-09-02#l214
     On a Linux machine with a Subversion trunk working copy on a local disk
     running 'svn info --depth infinity' shows it to be 2 or 3 times faster.
     On a larger working copy it's orders of magnitude faster.
   Votes:
     +1: philip
     +0: peters, gstein (looks correct, but I didn't test, and while
                         performance should be better, I wonder if that's
                         been tested at all)

 * r1167659
   Don't sort an already sorted array in svn_sort__hash().
   Justification:
     Possible performance improvement for merges, and doesn't cost anything.
     This function is used to sort mergeinfo catalogs, among other things.
   Votes:
     +1: stsp (for 1.7.1), rhuijben (for 1.7.1), pburba

 * r1174111
   Use the correct function to copy repositories in the testsuite.
   Justification:
     Prevent occassional test failure.
   Notes:
     Merge conflict on externals_tests.py resolved with --accept mf.
   Votes:
     +1: philip
     +0: pburba (Ideally this would be done as a subtree merge targeting
                 basic_tests.py, as danielsh points out in
                 http://svn.haxx.se/dev/archive-2011-09/0482.shtml.  I'm +1
                 if the backport is done that way).
     +1: danielsh (conditioned upon the backport done as per Paul's comment)

 * r1174761
   Better error message when configuring --without-zlib.
   Votes:
     +1: danielsh

 * r1174798
   DTRT when --with-zlib is passed without an argument.
   Justification:
     This DTRTing is normal for other --with-* options.
   Votes:
     +1: danielsh

 * r1174798
   Fix LDFLAGS when --with-zlib is passed with an argument.
   Justification:
     Might save a poor soul from lots of debugging some day.
   Votes:
     +1: danielsh

 * r1173574, r1174342, r1174693, r1174699
   Fix issue #4016: 'externals after upgrade from 1.6 have wrong URL
   information in EXTERNALS rows'
   Also: previously, the first failing external upgrade aborted all other
   external upgrades, now just prints the error and carries on.
   Justification:
     Users will start upgrading their WCs right after the 1.7.0 release, and
     it would be nice to have proper information in wc.db. I know of no real
     problems when EXTERNALS rows are wrong and/or missing info, but we might
     see them soon enough, or hit problems if same users upgrade same WCs
     to 1.8, much later.
     Argument against: "If EXTERNALS is just some sort of cache perhaps
       upgrade should just leave the columns null?"
     Argument for: "Currently 1.7 populates those columns. So upgrade should,
       too. We don't know which way we'll go -- drop EXTERNALS columns or
       heavily rely on them. So rather make an upgraded 1.6 WC look exactly
       the same as a fresh 1.7 WC would, saving us complex special cases in
       subsequent upgrade code. Meaning: power users with age-old WCs won't
       get dropped during upgrade to 1.8, whichever way we choose."
   Notes:
     r1173574 is just a cosmetic change that avoids conflicts in r1174693.
     r1174699 removes obsoleted stuff, but doesn't change the outcome.
   Conflicts:
     --accept=tc (r1174693, indent mismatch in handle_external_item_change()
   Votes:         caused by cosmetic fix from r1169770)
     +1: neels

 * r1175888, r1176416
   Fix some object lifetime issues in the JavaHL bindings.
   Justification:
     Using garbage-collected objects is bad.
   Votes:
     +1: hwright

 * r1177492
   Constness fix.
   Justification:
     Without this we are writing to const memory.
   Votes:
     +1: danielsh

Veto-blocked changes:
=====================

Approved changes:
=================

 * r1177001
   Update bash_completion to match 1.7 commands and options.
   Justification:
     Frustrating to be offered the wrong options.
   Votes:
     +1: philip
     +0: danielsh

