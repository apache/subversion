<html>
<head>
<title>Subversion 1.1 Release Notes</title>
<link rel="stylesheet" type="text/css" 
      href="http://subversion.tigris.org/branding/css/tigris.css"/>
<link rel="stylesheet" type="text/css" 
      href="http://subversion.tigris.org/branding/css/inst.css"/>
<link rel="stylesheet" type="text/css" media="print"
      href="http://subversion.tigris.org/branding/css/print.css"/>
<script type="text/javascript"
        src="http://subversion.tigris.org/branding/scripts/tigris.js"></script>
</head>

<body>
<div class="app">

<center>
<h1>Subversion 1.1 Release Notes</h1>
<h2>(and State of the Project)</h2>
</center>

<p>The <a href="http://svnbook.red-bean.com">Subversion book</a>
hasn't been forked/updated yet to cover new Subversion 1.1 features,
so here are some brief release notes.  Once the book is updated, these
will no longer be necessary.</p>

<h3>Overview</h3>

<p>Subversion 1.1 can best be summarized as: (1) an optional new
non-database repository back-end, and (2) a whole slew of client-side
improvements.  Details are given below.</p>

<p>Note that Subversion 1.1 is a superset of all the Subversion 1.0.x
releases.  The 1.0.x releases contain nothing but critical bugfixes
backported from the 1.1 development line.  Subversion 1.1 introduces
new features and fixes many smaller bugs.</p>

<h3>Compatibility Concerns</h3>

<p>Subversion's compatibility and version-numbering policy is
    documented in the project's <a
    href="http://svn.collab.net/repos/svn/trunk/HACKING">HACKING</a>
    file.  Here's a quick summary:</p>

<ul>

<li><p><em>Database schema</em>: if upgrading to Subversion 1.1, there
        is <strong>no need</strong> to dump and load your repository.
        There will be no changes requiring dump/load before Subversion
        2.0.</p></li>

<li><p><em>Client/server compatibility</em>: a 1.X client and 1.Y
        server are always interoperable.  However, the latest features
        or bugfixes may not be available unless both client and server
        are the latest version.</p></li>

<li><p><em>API/ABI compatibility</em>: the 1.1 release only adds new
        functions; thus a 1.0 program can both compile against and
        use 1.1 libraries at run-time, but a 1.1 program cannot use
        1.0 libraries.</p></li>

</ul>


<h3>New Major Features</h3>

<h4>Non-database repositories</h4>

<p>It's now possible to create repositories that don't use a
   BerkeleyDB database.  Instead, these new repositories store data in
   the ordinary filesystem.  Because Subversion developers often refer
   to the repository as "The Filesystem", we have adopted the rather
   confusing habit of referring to these new repositories as "fsfs"
   repositories... that is, a Filesystem implementation that uses the
   OS filesystem to store data.</p>

<p>Note that the data files created by fsfs repositories are still in
   a binary format, and are not human editable!</p>

<p>Why would someone choose an fsfs repository over BerkeleyDB?  The
   immediate and obvious advantages are the ability to access a
   repository over a network filesystem, and no more database "wedges"
   needing recovery.  You can read the full list of
   advantages/disadvantages at <a
   href="http://web.mit.edu/ghudson/info/fsfs">http://web.mit.edu/ghudson/info/fsfs</a></p>

<p>To create an fsfs repository, simply run <tt>'svnadmin create
      --fs-type fsfs'</tt>.  Or, if BerkeleyDB wasn't detected at
    compile time, <tt>'svnadmin create'</tt> will default to type
    fsfs.</p>


<h4>Symlink versioning</h4>

<p>This feature allows unix users to place symlinks under version
    control.  (Note: this is <em>not</em> about creating links
    inside a repository that point to other parts of the repository!)</p>

<p> When a user adds a unix symlink to version control and commits,
    the repository stores the object as a file with the "svn:special"
    property attached.  When the client sees this property during
    checkouts and updates, the repository file is translated back into
    a symlink within the working copy.  On win32 systems, the client
    does no translation, and the user sees just an ordinary file.
    (But a win32 user can hand-edit the contents of this file, which
    will still have an affect of changing the symlink on a unix
    system.)</p>


<h4>Client follows renames</h4>

<p>Subversion makes a lot of noise about the way branches (copies) of
    files and directories maintain historical connections to their
    source, but in Subversion 1.0 only <tt>'svn log'</tt> actually
    follows that history, not <tt>'svn diff'</tt>, <tt>'svn
    merge'</tt>, <tt>'svn list'</tt>, or <tt>'svn cat'</tt>.</p>

<p> This problem (<a href="">issue 1093</a>) is now fixed in
    Subversion 1.1.  All client subcommands now transparently trace
    backwards through renames when examining older versions of files
    and directories.</p>


<h4>Commandline auto-escaping of URI and IRIs</h4>

<p>In the 1.0 commandline client, users had to escape URLs manually.
    The client only accepted "legally correct" URLs, such as</p>
<pre>
  svn checkout http://host/path%20with%20space/project/espa%F1a
</pre>
<p>The 1.1 commandline client now knows how to do what web-browsers
    have been doing for long time: it auto-escapes characters like
    spaces and other upper-ascii i18n characters.</p>
<pre>
  svn checkout "http://host/path with space/project/espa&ntilde;a"
</pre>
<p>The definition of an Internationalized URI (IRI) is still a work in
    progress; see <a
    href="http://www.w3.org/International/iri-edit/">the draft spec</a>.</p>



<h4>Localized messages</h4>

<p>Subversion 1.1 is now using gettext() to display translated error,
   informational, and help messages to the user.  We currently have
   translations for German, Spanish, Polish, Swedish, and Norwegian
   Bokmal, and we're looking for volunteers to write translations for
   other languages.  To localize your Subversion client, just set your
   LANG environment variable:</p>

     <pre>
       $ export LANG=de_DE
       $ svn help cat
       cat: Ausgabe des Inhaltes der angegebenen Dateien oder URLs
       Aufruf: cat ZIEL...
       [...]
     </pre>


<h3>Other Improvements</h3>

<dl>

<dt><h4>Speed optimizations:</h4></dt>
<dd>Faster <tt>checkout</tt>, <tt>update</tt>, <tt>status</tt>, and
      <tt>blame</tt> commands.</dd>

<p>

<dt><h4>Shareable working copies:</h4></dt>

<dd>There have been historical problems with permissions when multiple
users share a working copy.  We believe these problems to be fixed
now, see <a
href="http://subversion.tigris.org/issues/show_bug.cgi?id=1509">issue
#1509</a>.</dd>

<p>


<dt><h4>New 'store-passwords' runtime variable:</h4></dt>

<dd>The previous <tt>store-auth-creds</tt> runtime variable still
works, but many users were unhappy with it.  It disables <b>all</b>
credentials caching on local disk: passwords, usernames, server certs.
This new runtime variable only disables password caching, so that
server certificates can still be remembered.</dd>

<p>



<dt><h4>Bugfixes:</h4></dt>
<dd>More than 40 "small" bugs fixed.  See the <a
href="http://svn.collab.net/repos/svn/trunk/CHANGES">CHANGES</a> file
      for details.</dd>

<p>

<dt><h4>New subcommand switches:</h4></dt>
<dd>
   <dl>
      <dt><tt>svn blame --verbose</tt></dt>
      <dd>show extra annotation information</dd>

      <dt><tt>svn export --native-eol [LF | CRLF]</tt></dt>
      <dd>forcibly export 'svn:eol-style=native' files with a specific
      line ending, either LF or CRLF.  Useful for releases (say,
      creating a win32 zipfile on unix.)</dd>

      <dt><tt>svn add --force</tt></dt> <dd>forcibly recurse into
      already-versioned directories.  This allows users to <tt>svn
      add</tt> every unversioned object, even those hiding deep within a
      working copy.</dd>

      <dt><tt>svnadmin dump --deltas</tt></dt>
      <dd>Creates a smaller dumpfile by including compressed binary
      diffs, rather than fulltexts.</dd>

      <dt><tt>svnadmin create --fs-type [fsfs | bdb]</tt></dt>
      <dd>Create a repository using either 'fsfs' or 'bdb' backend,
      defaults is 'bdb'.</dd>

      <dt><tt>svnadmin recover [--wait]</tt></dt>
      <dd>This command now exits immediately if another process has a
      lock on the repository.  Use the new <tt>--wait</tt> option to
      get the old behavior (where svnadmin blocks indefinitely until
      the lock is freed.)</dd>

      <dt><tt>svnserve --tunnel-user=NAME</tt></dt>
      <dd>Used in conjuction with <tt>--tunnel</tt> switch;  tells
      svnserve to assume that NAME is the authenticated user, rather
      than the UID of the svnserve process.  Useful for users wishing
      to share a single system account over SSH, but maintaining
      separate commit identities.</dd>
 
      <dt><tt>svndumpfilter --quiet</tt></dt>
      <dd>less chatty dumpfiltering.</dd>

      <dt><tt>svnserve      --version</tt><br/>
          <tt>svnversion    --version</tt><br/>
          <tt>svndumpfilter --version</tt></dt>
      <dd>display version of program.</dd>

   </dl>
</dl>



<h3>Developer Changes</h3>

<p>A number of new 1.1 functions have been introduced, with the "2"
suffix, and the older versions are now marked deprecated (and will be
removed in Subversion 2.0).  For example, a new svn_wc_diff2()
function has superceded svn_wc_diff().  See the <a
href="http://svn.collab.net/repos/svn/trunk/CHANGES">CHANGES</a> file
for details.</p>

<p>There has been extensive work on the python, perl, and java
bindings.  More coverage, more functionality, and they're now fully
integrated into the main Subversion build system (just run 'make
swig-py' or 'make swig-pl' or 'make javahl').</p>


<h3>Propaganda and Roadmap</h3>

<p>There's no formal roadmap or timeframe for future Subversion
releases.  However, the consensus among developers is that the "next
big feature" will be exclusive locking (reserved checkouts).  This
feature will hopefully appear in Subversion 1.2, assuming no database
schema changes are necessary.  Design discussion is still
underway.</p>

<p>If you're looking for testimonials and general positive propaganda
on Subversion, see our new <a
href="http://subversion.tigris.org/propaganda.html">propaganda
page</a>.</p> And as usual, you can find links to other
Subversion-related sites, projects, and essays on our <a
href="http://subversion.tigris.org/project_links.html">links
page</a>.</p>

</div>
</body>
</html>
